version: 2

models:
    - name: bronze_date
      config:
        materialized: view
        schema: bronze
    - name: bronze_product
      config:
        materialized: view

    - name: bronze_sales
      columns:
        - name: sales_id
          data_tests:
            - unique
            - not_null 
        - name: gross_amount
          data_tests:
            - generic_non_negative
          
    - name: bronze_store
      columns: 
        - name: store_sk
          data_tests:
            - unique
            - not_null
        - name: store_name
          data_tests:
            - accepted_values:
                arguments:
                  values: ["MegaMart Manhattan", "MegaMart Brooklyn", "MegaMart Austin", "MegaMart San Jose","MegaMart Toronto"]
                config:
                  severity: warn
        - name: country
          data_tests:
            - accepted_values:
                arguments:
                  values: ["USA","Canada","Mexico"]
                config:
                  severity: warn
          